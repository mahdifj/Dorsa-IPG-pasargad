## مراحل کلی یک تراکنش به ترتیب

- ورود مشتری به سایت پذیرنده و تشکیل سبد خرید یا انتخاب خدمات مورد نظر
- فراخوانی متد getToken و دریافت توکن توسط پذیرنده.
- هدایت مشتری به درگاه پرداخت الکترونیک پاسارگاد به همراه توکن دریافتی از طریق وب سرویس موردنظر(خرید،
شارژ/قبض، خرید شناسه دار و ...)
-  تکمیل اطالعات کارت توسط مشتری و انجام مرحله پرداخت وجه.
-  هدایت مشتری به سایت پذیرنده (redirect)
-  پس از انجام عملیات پرداخت توسط مشتری.(وضعیت تراکنش در اطلاعات callback به پذیرنده اعالم میگردد و در صورت نیاز میتواند این فرایند با استعالم وضعیت تراکنش جایگزین
گردد. تشخیص این مهم با مسئولیت تیم توسعه پذیرنده می باشد)
-  ادامه روند عملیات خرید مشتری در سایت پذیرنده پس از دریافت نتیجه تراکنش از طریق فراخوانی متد-payment
inquiry
-  نهایی کردن تراکنش پس از ارائه خدمات به خریدار. در صورتی که پذیرنده با استفاده از متد transactions-verify
تراکنش خرید را نهایی نکند تراکنش به حساب مشتری عودت پیدا خواهد کرد. حداکثر زمان فراخوانی متد فوق بر
حسب مقدار اعالمی؛ توسط مشتری می باشد(پیشفرض 25 دقیقه).

- پس از نهایی کردن تراکنش در صورتی که پذیرنده قصد ابطال تراکنش را داشته باشد میتواند حداکثر تا زمان اعالمی
توسط مشتری(پیشفرض 25 دقیقه) بعد از انجام تراکنش، به وسیله متد transactions-reverse اقدام به برگشت
خرید نماید. این زمان نیز طبق درخواست مشتری میتواند کمتر و یا صفر شود. بدیهی است در صورت صفر شدن این
مقدار، امکان reverse تراکنش وجود نخواهد داشت. الزم به ذکر است جهت انجام تراکنش reverse نیاز به ارسال
verify نمی باشد
- درصورتی که پذیرنده تمایل داشته باشد تراکنش را در همان لحظه ی انجام، تایید نهایی نماید به گونه ای که امکان
ابطال آن وجود نداشته باشد؛ میتواند متد transactions-confirm را به جای transactions-verify  فراخوانی نماید
